"use strict";(self["webpackChunkstore"]=self["webpackChunkstore"]||[]).push([[886],{6886:function(e,t,l){l.r(t),l.d(t,{default:function(){return k}});var a=l(6768),o=l(5130),d=l(4232);const u={class:"admin-products"},n=["src"];function r(e,t,l,r,i,c){const s=(0,a.g2)("a-input"),k=(0,a.g2)("a-form-item"),m=(0,a.g2)("a-select-option"),p=(0,a.g2)("a-select"),f=(0,a.g2)("a-input-number"),g=(0,a.g2)("a-button"),h=(0,a.g2)("a-form"),b=(0,a.g2)("a-space"),y=(0,a.g2)("a-table");return(0,a.uX)(),(0,a.CE)("div",u,[t[12]||(t[12]=(0,a.Lk)("h1",null,"Управление товарами",-1)),(0,a.bF)(h,{layout:"inline",onSubmit:t[6]||(t[6]=(0,o.D$)((()=>{}),["prevent"]))},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(s,{value:i.form.name,"onUpdate:value":t[0]||(t[0]=e=>i.form.name=e),placeholder:"Название товара"},null,8,["value"])])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,{value:i.form.category,"onUpdate:value":t[1]||(t[1]=e=>i.form.category=e),placeholder:"Категория"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{value:"iphones"},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("Айфоны")]))),_:1}),(0,a.bF)(m,{value:"ipads"},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("Айпады")]))),_:1}),(0,a.bF)(m,{value:"accessories"},{default:(0,a.k6)((()=>t[9]||(t[9]=[(0,a.eW)("Аксессуары")]))),_:1})])),_:1},8,["value"])])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{value:i.form.price,"onUpdate:value":t[2]||(t[2]=e=>i.form.price=e),placeholder:"Цена"},null,8,["value"])])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{value:i.form.sold,"onUpdate:value":t[3]||(t[3]=e=>i.form.sold=e),placeholder:"Продано"},null,8,["value"])])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{value:i.form.stock,"onUpdate:value":t[4]||(t[4]=e=>i.form.stock=e),placeholder:"Остаток"},null,8,["value"])])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.Lk)("input",{type:"file",onChange:t[5]||(t[5]=(...e)=>c.handleFileUpload&&c.handleFileUpload(...e))},null,32)])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{type:"primary",onClick:c.addOrUpdateProduct},{default:(0,a.k6)((()=>[(0,a.eW)((0,d.v_)(i.editingProduct?"Обновить":"Добавить"),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(y,{columns:i.columns,"data-source":i.products,rowKey:"id",bordered:""},{bodyCell:(0,a.k6)((({column:e,record:l})=>["image"===e.key?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[l.image?((0,a.uX)(),(0,a.CE)("img",{key:0,src:l.image,style:{width:"60px"}},null,8,n)):(0,a.Q3)("",!0)],64)):"actions"===e.key?((0,a.uX)(),(0,a.Wv)(b,{key:1},{default:(0,a.k6)((()=>[(0,a.bF)(g,{type:"link",onClick:e=>c.editProduct(l)},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)("Редактировать")]))),_:2},1032,["onClick"]),(0,a.bF)(g,{type:"link",danger:"",onClick:e=>c.deleteProduct(l.id)},{default:(0,a.k6)((()=>t[11]||(t[11]=[(0,a.eW)("Удалить")]))),_:2},1032,["onClick"])])),_:2},1024)):(0,a.Q3)("",!0)])),_:1},8,["columns","data-source"])])}l(4114),l(8111),l(2489);var i={name:"AdminProducts",data(){return{form:{name:"",category:"",price:null,image:"",sold:0,stock:0},products:[],editingProduct:null,columns:[{title:"Название",dataIndex:"name",key:"name"},{title:"Категория",dataIndex:"category",key:"category"},{title:"Цена",dataIndex:"price",key:"price"},{title:"Продано",dataIndex:"sold",key:"sold"},{title:"Остаток",dataIndex:"stock",key:"stock"},{title:"Изображение",dataIndex:"image",key:"image"},{title:"Действия",key:"actions"}]}},methods:{handleFileUpload(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{this.form.image=e.target.result},e.readAsDataURL(t)}},addOrUpdateProduct(){this.editingProduct?(Object.assign(this.editingProduct,this.form),this.editingProduct=null):this.products.push({...this.form,id:Date.now()}),this.resetForm()},editProduct(e){this.editingProduct=e,this.form={...e}},deleteProduct(e){this.products=this.products.filter((t=>t.id!==e))},resetForm(){this.form={name:"",category:"",price:null,image:"",sold:0,stock:0}}}},c=l(1241);const s=(0,c.A)(i,[["render",r],["__scopeId","data-v-627c2e9e"]]);var k=s}}]);
//# sourceMappingURL=886.e20d9773.js.map